(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{104:function(e,t,a){},109:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(1),c=a.n(s),o=a(36),r=a.n(o),i=(a(104),a(105),a(106),a(107),a(108),a(109),a(8)),l=a.n(i),d=a(10),h=a(17),j=a(18),u=a(20),b=a(19),p=a(24),m=a(97),x=a(15),g=a(7),O=c.a.createContext(!0);var v=function(e){var t=Object(s.useState)({isOpen:!1}),a=Object(m.a)(t,2),o=a[0],r=a[1],i=c.a.useContext(O).user;return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)(g.m,{color:"green",dark:!0,expand:"md",children:[Object(n.jsx)(g.n,{children:Object(n.jsx)(x.b,{to:"/todos",children:Object(n.jsx)("strong",{className:"white-text bold",children:"Todo App"})})}),Object(n.jsx)(g.p,{onClick:function(){r((function(e){return Object(p.a)(Object(p.a)({},e),{},{isOpen:!o.isOpen})}))}}),Object(n.jsxs)(g.f,{id:"navbarCollapse3",isOpen:o.isOpen,navbar:!0,children:[Object(n.jsx)(g.o,{right:!0,children:i?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(g.k,{children:Object(n.jsxs)(g.l,{disabled:!0,to:"#!",children:["Welcome ",i.username]})}),Object(n.jsx)(g.k,{children:Object(n.jsx)(g.l,{to:"/logout",children:"Logout"})})]}):Object(n.jsx)(g.k,{active:!0,children:Object(n.jsx)(g.l,{to:"/login",children:"Login"})})}),Object(n.jsx)(g.o,{right:!0,children:Object(n.jsx)(g.k,{children:Object(n.jsx)(g.h,{waves:!0,children:Object(n.jsx)("div",{className:"md-form my-0",children:Object(n.jsx)("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Search","aria-label":"Search"})})})})})]})]})})},f=a(13),y=a(14),C=a.n(y),S=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).openLogin=function(){n.setState({isLogin:!0,isRegister:!1})},n.openRegister=function(){n.setState({isLogin:!1,isRegister:!0})},n.handleLoginChange=function(e){var t=Object(p.a)({},n.state.loginDetails);t[e.target.name]=e.target.value,n.setState({loginDetails:t})},n.handleRegisterChange=function(e){var t=Object(p.a)({},n.state.registerDetails);t[e.target.name]=e.target.value,n.setState({registerDetails:t})},n.handleLoginSubmit=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,s,c,o,r,i,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state.loginDetails,s=a.email,c=a.password,n.setState({loading:!0}),o={username:s,password:c},e.prev=4,e.next=7,C.a.post("http://localhost:8000/auth/login/",o);case 7:r=e.sent,i=r.data,localStorage.setItem("_userId",i.token),setTimeout((function(){n.setState({loading:!1}),window.location.href="/todos"}),3e3),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(4),n.setState({loading:!1}),(d=Object(p.a)({},n.state.errors)).login=e.t0.response.data.non_field_errors,n.setState({errors:d});case 19:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),n.handleRegisterSubmit=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,s,c,o,r,i,d,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loading:!0}),a=n.state.registerDetails,s=a.email_1,c=a.password_1,o=a.password_2,r={username:s,password:c,password2:o},e.prev=4,e.next=7,C.a.post("http://localhost:8000/api/users/",r);case 7:i=e.sent,d=i.data,localStorage.setItem("_userId",d.token),setTimeout((function(){n.setState({loading:!1}),window.location.href="/todos"}),3e3),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(4),n.setState({loading:!1}),(h=Object(p.a)({},n.state.errors)).username=e.t0.response.data.username,n.setState({errors:h});case 19:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),n.state={isLogin:!0,isRegister:!1,loginDetails:{email:"",password:""},registerDetails:{email_1:"",password_1:"",password_2:""},loading:!1,errors:{}},n}return Object(j.a)(a,[{key:"componentWillUnmount",value:function(){this.setState=function(){}}},{key:"render",value:function(){var e=this.state,t=e.isLogin,a=e.isRegister,c=e.registerDetails,o=e.loginDetails,r=e.loading,i=e.errors;return Object(n.jsxs)(s.Fragment,{children:[r&&Object(n.jsx)("div",{className:"spinner"}),Object(n.jsxs)("div",{className:"shadow-card",children:[Object(n.jsxs)("div",{className:"edge-label",children:[Object(n.jsx)("h2",{onClick:this.openLogin,children:"Login"}),Object(n.jsx)("h2",{onClick:this.openRegister,children:"\u064c\u064cRegister"})]}),Object(n.jsxs)("div",{className:"user-authenticate",children:[Object(n.jsx)("div",{className:t?"login show":"login",children:Object(n.jsx)(g.g,{children:Object(n.jsx)(g.s,{children:Object(n.jsx)(g.e,{md:"12",children:Object(n.jsxs)("form",{onSubmit:this.handleLoginSubmit,children:[Object(n.jsx)("p",{className:"h5 text-center mb-4",children:"Sign in"}),i.login&&Object(n.jsx)(g.b,{color:"danger",children:i.login}),Object(n.jsxs)("div",{className:"grey-text",children:[Object(n.jsx)(g.j,{label:"Type your email",icon:"envelope",group:!0,type:"text",name:"email",onChange:this.handleLoginChange,value:o.email,validate:!0}),Object(n.jsx)(g.j,{label:"Type your password",icon:"lock",group:!0,type:"password",name:"password",onChange:this.handleLoginChange,value:o.password,validate:!0})]}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)(g.d,{type:"submit",children:"Login"})})]})})})})}),Object(n.jsx)("div",{className:a?"register  show":"register",children:Object(n.jsx)(g.g,{children:Object(n.jsx)(g.s,{children:Object(n.jsx)(g.e,{md:"12",children:Object(n.jsxs)("form",{onSubmit:this.handleRegisterSubmit,children:[Object(n.jsx)("p",{className:"h5 text-center mb-4",children:"Sign up"}),i.username&&Object(n.jsx)(g.b,{color:"danger",children:i.username}),Object(n.jsxs)("div",{className:"grey-text",children:[Object(n.jsx)(g.j,{label:"Your username",icon:"user",group:!0,type:"text",name:"email_1",value:c.email_1,onChange:this.handleRegisterChange,validate:!0}),Object(n.jsx)(g.j,{label:"Your password",icon:"lock",group:!0,type:"password",name:"password_1",value:c.password_1,onChange:this.handleRegisterChange,validate:!0}),Object(n.jsx)(g.j,{label:"Confirm your password",icon:"exclamation-triangle",group:!0,type:"password",name:"password_2",value:c.password_2,onChange:this.handleRegisterChange,validate:!0})]}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)(g.d,{type:"submit",color:"primary",children:"Register"})})]})})})})})]})]})]})}}]),a}(s.Component),N=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleCheck=function(){var e=Object(d.a)(l.a.mark((function e(t,a){var s,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.context.loadTodos,!t.target.checked){e.next=16;break}return c=localStorage.getItem("_userId"),n.setState({loading:!0}),o={completed:!0},e.prev=5,e.next=8,C.a.patch("http://localhost:8000/api/todos/".concat(a.id,"/"),o,{headers:{Authorization:"JWT ".concat(c)}});case 8:s(),setTimeout((function(){n.setState({loading:!1})}),2e3),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),n.setState({loading:!1}),console.log(e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}(),n.navigateToEdit=function(e){return n.props.history.push("/todo/edit/".concat(e))},n.handleDeleteTodo=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.context.loadTodos,n.setState({loading:!0}),s=localStorage.getItem("_userId"),e.prev=3,e.next=6,C.a.delete("http://localhost:8000/api/todos/".concat(t,"/"),{headers:{Authorization:"JWT ".concat(s)}});case 6:setTimeout((function(){n.setState({loading:!1}),a()}),2e3),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),n.handleCategory=function(e){var t=e.target.value;(0,n.context.setCategory)(t)},n.handleCompletion=function(e){var t=e.target.value;(0,n.context.setCompletion)(t)},n.state={loading:!1,isCompleted:!1},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.context,a=t.categories,c=t.filterTodos,o=this.state.loading;return Object(n.jsxs)(s.Fragment,{children:[o&&Object(n.jsx)("div",{className:"spinner"}),Object(n.jsxs)("div",{className:"todo-list",children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("h5",{children:"YOUR TODOS"})}),Object(n.jsxs)("div",{className:"todo-filter",children:[Object(n.jsx)("h5",{children:"Filter Todo by :"}),Object(n.jsx)("div",{className:"category",children:Object(n.jsxs)("select",{onChange:this.handleCategory,className:"browser-default custom-select",children:[Object(n.jsx)("option",{value:"",children:"Category"}),a.map((function(e,t){return Object(n.jsx)("option",{value:e.category_name,children:e.name},t)}))]})}),Object(n.jsx)("div",{className:"completed",children:Object(n.jsxs)("select",{onChange:this.handleCompletion,className:"browser-default custom-select",children:[Object(n.jsx)("option",{value:"",children:"Completion"}),Object(n.jsx)("option",{value:"true",children:"Completed"}),Object(n.jsx)("option",{value:"false",children:"Not completed"})]})})]}),Object(n.jsx)("div",{className:"todo-table",children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{colSpan:3,children:"TODOS"}),Object(n.jsx)("th",{children:"STATUS"}),Object(n.jsx)("th",{children:"ACTION"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:c.map((function(t,a){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:a+1}),Object(n.jsx)("td",{colSpan:3,children:Object(n.jsx)(x.b,{to:"/todo/".concat(t.id),children:t.title})}),Object(n.jsx)("td",{children:t.completed?"COMPLETED":"NOT COMPLETED"}),Object(n.jsx)("td",{children:t.completed?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{htmlFor:"complete",children:"Completed"}),Object(n.jsx)("input",{readOnly:!0,checked:t.completed,type:"checkbox"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{htmlFor:"complete",children:"Mark as completed"}),Object(n.jsx)("input",{readOnly:!0,onChange:function(a){return e.handleCheck(a,t)},type:"checkbox"})]})}),Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:"btn-toggle",children:[Object(n.jsxs)(g.d,{onClick:function(){return e.handleDeleteTodo(t.id)},color:"danger",children:[Object(n.jsx)("i",{className:"fa fa-trash"}),"Delete"]}),Object(n.jsxs)(g.d,{onClick:function(){return e.navigateToEdit(t.id)},color:"warning",children:[Object(n.jsx)("i",{className:"fa fa-edit"}),"Edit"]})]})})]},a)}))})]})})]})]})}}]),a}(s.Component);N.contextType=O;var k=N,w=a(51),T=a.n(w),_=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).setDate=function(e){n.setState({due_date:e})},n.handleChange=function(e){var t=Object(p.a)({},n.state.todo_props);t[e.target.name]=e.target.value,n.setState({todo_props:t})},n.handleCategoryChange=function(e){n.setState({categoryId:e.target.value})},n.handlePriorityChange=function(e){n.setState({priority:e.target.value})},n.handleTodoSubmit=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,s,c,o,r,i,d,h,j,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("_userId"),s=n.context,c=s.user,o=s.loadTodos,t.preventDefault(),n.setState({loading:!0}),r=n.state,i=r.todo_props,d=r.categoryId,h=r.due_date,j=r.priority,u={title:i.title,description:i.description,category:d,due_date:h,priority:j,completed:!1,author:c.user_id},e.prev=6,e.next=9,C.a.post("http://localhost:8000/api/todos/",u,{headers:{Authorization:"JWT ".concat(a)}});case 9:o(),setTimeout((function(){n.setState({loading:!1}),alert("todo has been created"),n.props.history.push("/todos")}),3e3),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),n.setState({loading:!1}),console.log(e.t0.response.data);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),n.state={due_date:new Date,todo_props:{title:"",description:""},categoryId:"",priority:"",loading:!1},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.todo_props,c=t.loading,o=this.context.categories;return Object(n.jsxs)(s.Fragment,{children:[c&&Object(n.jsx)("div",{className:"spinner"}),Object(n.jsxs)("div",{className:"todo-create",children:[Object(n.jsx)("h5",{children:"Create your Todo"}),Object(n.jsx)("div",{className:"create-form",children:Object(n.jsxs)("form",{onSubmit:this.handleTodoSubmit,children:[Object(n.jsx)(g.j,{className:"mb-2",label:"Title",name:"title",onChange:this.handleChange,value:a.title,background:!0}),Object(n.jsx)(g.j,{type:"textarea",className:"mb-2",label:"Description",name:"description",onChange:this.handleChange,value:a.description,background:!0}),Object(n.jsxs)("select",{onChange:this.handleCategoryChange,className:"browser-default custom-select mb-2",children:[Object(n.jsx)("option",{children:"Choose Category"}),o.map((function(e,t){return Object(n.jsx)("option",{className:"text-dark",value:e.id,children:e.name},t)}))]}),Object(n.jsxs)("select",{onChange:this.handlePriorityChange,className:"browser-default custom-select mb-2",children:[Object(n.jsx)("option",{children:"Todo priority"}),Object(n.jsx)("option",{className:"text-dark",value:"High",children:"High"}),Object(n.jsx)("option",{className:"text-dark",value:"Medium",children:"Medium"}),Object(n.jsx)("option",{className:"text-dark",value:"Low",children:"Low"})]}),Object(n.jsx)("label",{htmlFor:"date",children:"Due Date"}),Object(n.jsx)(T.a,{selected:this.state.due_date,onChange:function(t){return e.setDate(t)}}),Object(n.jsx)("br",{}),Object(n.jsx)(g.d,{type:"submit",className:"mt-4",block:!0,color:"orange",children:"Create"})]})})]})]})}}]),a}(s.Component);_.contextType=O;var I=_,D=a(98),L=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a=Object(D.a)(n.state.username);a[t]=e.target.value,n.setState({username:a})},n.handleShareTodo=function(){var e=Object(d.a)(l.a.mark((function e(t,a){var s,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("_userId"),n.setState({loading:!0}),c=n.state.username,console.log(c),o={username:c[a]},e.prev=5,e.next=8,C.a.post("http://localhost:8000/api/notifications/".concat(t,"/"),o,{headers:{Authorization:"JWT ".concat(s)}});case 8:setTimeout((function(){n.setState({loading:!1}),alert("you have shared your todo with ".concat(c[a]," ")),n.props.history.push("/todos")}),2e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),n.setState({loading:!1}),console.log(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,a){return e.apply(this,arguments)}}(),n.state={username:[],loading:!1},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.context.todos,a=this.state,c=a.username,o=a.loading;return Object(n.jsxs)(s.Fragment,{children:[o&&Object(n.jsx)("div",{className:"spinner"}),Object(n.jsx)("div",{className:"share-todo",children:Object(n.jsx)("h5",{children:"Todo Share"})}),Object(n.jsx)("div",{className:"todo-list-share",children:Object(n.jsx)("div",{className:"todo-listing",children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Todo Title"}),Object(n.jsx)("th",{children:"Recipient Username"}),Object(n.jsx)("th",{children:"Share Button"})]})}),Object(n.jsx)("tbody",{children:t.map((function(t,a){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("strong",{children:t.title})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{onChange:function(t){return e.handleChange(t,a)},value:c[a],type:"text"})}),Object(n.jsx)("td",{children:Object(n.jsxs)(g.d,{onClick:function(){return e.handleShareTodo(t.id,a)},color:"orange",children:[Object(n.jsx)("i",{className:"fa fa-share"}),"Share Todo"]})})]},t.id)}))})]})})})]})}}]),a}(s.Component);L.contextType=O;var F=L,R=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({category_name:e.target.value})},n.handleSubmit=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=localStorage.getItem("_userId"),n.setState({loading:!0}),s={name:n.state.category_name},e.prev=4,e.next=7,C.a.post("http://localhost:8000/api/categories/",s,{headers:{Authorization:"JWT ".concat(a)}});case 7:setTimeout((function(){n.setState({loading:!1}),n.props.history.push({pathname:"/todos",state:{categorySuccess:"Successfully created"}}),alert("successfully created")}),2e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),n.setState({loading:!1}),console.log(e.t0.response.data);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),n.state={category_name:"",loading:!1},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.category_name,a=e.loading;return Object(n.jsxs)(s.Fragment,{children:[a&&Object(n.jsx)("div",{className:"spinner"}),Object(n.jsxs)("div",{className:"category-create",children:[Object(n.jsx)("h5",{children:"Create Category"}),Object(n.jsx)("div",{className:"category-form",children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)(g.j,{onChange:this.handleChange,value:t,label:"Category name",background:!0}),Object(n.jsx)(g.d,{type:"submit",block:!0,color:"orange",children:"create category"})]})})]})]})}}]),a}(s.Component);var A=function(e){var t=c.a.useContext(O).notifications;return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("div",{className:"notification-list",children:[Object(n.jsx)("h5",{children:"NOTIFICATIONS"}),t.map((function(e){return Object(n.jsx)("div",{className:"notify-me",children:Object(n.jsx)("ul",{children:Object(n.jsx)("li",{children:Object(n.jsx)(x.b,{to:"/todo/".concat(e.todo_item),children:e.message})})})},e.id)}))]})})},J=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.context.notifications;return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("div",{className:"row-list",children:[Object(n.jsx)("div",{className:"fixed-column",children:Object(n.jsx)("div",{className:"list-items",children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsxs)(x.b,{to:"/todos/list",children:[Object(n.jsx)("i",{className:"fa fa-list-ul"}),"My Todos"]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(x.b,{to:"/todos/create",children:[Object(n.jsx)("i",{className:"fa fa-plus"}),"Create Todo"]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(x.b,{to:"/todos/share",children:[Object(n.jsx)("i",{className:"fa fa-share"}),"Share Todo"]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(x.b,{to:"/todos/category",children:[Object(n.jsx)("i",{className:"fa fa-plus-square"}),"Create Category"]})}),Object(n.jsxs)("li",{children:[Object(n.jsxs)(x.b,{to:"/todos/notification",children:[Object(n.jsx)("i",{className:"fa fa-bell"}),"Notifications"]}),Object(n.jsx)(g.c,{color:"danger",className:"ml-2",children:e.length})]})]})})}),Object(n.jsx)("div",{className:"long-column",children:Object(n.jsxs)(f.d,{children:[Object(n.jsx)(f.b,{path:"/todos/list",component:k}),Object(n.jsx)(f.b,{path:"/todos/create",component:I}),Object(n.jsx)(f.b,{path:"/todos/share",component:F}),Object(n.jsx)(f.b,{path:"/todos/category",component:R}),Object(n.jsx)(f.b,{path:"/todos/notification",component:A}),Object(n.jsx)(f.a,{to:"/todos/list"})]})})]})})}}]),a}(s.Component);J.contextType=O;var W=J,z=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={todo:{}},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,a=localStorage.getItem("_userId"),e.prev=2,e.next=5,C.a.get("http://localhost:8000/api/todos/".concat(t),{headers:{Authorization:"JWT ".concat(a)}});case 5:n=e.sent,s=n.data,this.setState({todo:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.response.data);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.todo;return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)("div",{className:"row-list",children:[Object(n.jsx)("div",{className:"todo-logo",children:Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)("i",{className:"fa fa-file-archive-o"})})}),Object(n.jsxs)("div",{className:"todo-detail",children:[Object(n.jsx)("h4",{children:"Title"}),Object(n.jsx)("p",{children:e.title}),Object(n.jsx)("h4",{children:"Description"}),Object(n.jsx)("p",{children:e.description}),Object(n.jsx)("h4",{children:"Due Date"}),Object(n.jsx)("p",{children:e.due_date}),Object(n.jsx)("h4",{children:"Priority"}),Object(n.jsx)("p",{children:e.priority}),Object(n.jsx)("h4",{children:"Category"}),Object(n.jsx)("p",{children:e.category_name})]})]})})}}]),a}(s.Component),M=a(96);var P=function(e){return Object(n.jsx)("div",{children:(localStorage.removeItem("_userId"),void(window.location.href="/login"))})},U=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=Object(p.a)({},n.state.todo_attributes);t[e.target.name]=e.target.value,n.setState({todo_attributes:t})},n.handleCompletion=function(e){n.setState({completion:e.target.value})},n.handlePriority=function(e){n.setState({priority:e.target.value})},n.handleCategory=function(e){n.setState({categoryId:e.target.value})},n.setDate=function(e){n.setState({due_date:e})},n.handleSubmit=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,s,c,o,r,i,d,h,j,u,b,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.context,s=a.user,c=a.loadTodos,o=n.props.match.params.id,r=localStorage.getItem("_userId"),n.setState({loading:!0}),t.preventDefault(),i=n.state,d=i.todo_attributes,h=i.categoryId,j=i.priority,u=i.completion,b=i.due_date,p={title:d.title,description:d.description,category:h,due_date:b,priority:j,completed:u,author:s.user_id},e.prev=7,e.next=10,C.a.put("http://localhost:8000/api/todos/".concat(o,"/"),p,{headers:{Authorization:"JWT ".concat(r)}});case 10:c(),setTimeout((function(){n.setState({loading:!1}),alert("Updated successfully"),n.props.history.push("/todos")}),2e3),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),n.setState({loading:!1}),console.log(e.t0.response.data);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),n.state={todo_attributes:{title:"",description:""},categoryId:"",priority:"",completion:"",due_date:new Date,loading:!1},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,a=localStorage.getItem("_userId"),e.prev=2,e.next=5,C.a.get("http://localhost:8000/api/todos/".concat(t,"/"),{headers:{Authorization:"JWT ".concat(a)}});case 5:n=e.sent,s=n.data,console.log(s),(c=Object(p.a)({},this.state.todo_attributes)).title=s.title,c.description=s.description,this.setState({todo_attributes:c,categoryId:s.category,priority:s.priority,completion:s.completed,due_date:new Date(s.due_date)}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0.response.data);case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.context.categories,a=this.state,c=a.categoryId,o=a.priority,r=a.completion,i=a.todo_attributes,l=a.loading;return Object(n.jsxs)(s.Fragment,{children:[l&&Object(n.jsx)("div",{className:"spinner"}),Object(n.jsxs)("div",{className:"todo-update",children:[Object(n.jsx)("h5",{children:"Update Todo"}),Object(n.jsx)("div",{className:"update-form",children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)(g.j,{className:"mb-2",value:i.title,label:"Title",onChange:this.handleChange,background:!0}),Object(n.jsx)(g.j,{type:"textarea",className:"mb-2",value:i.description,label:"description",onChange:this.handleChange,background:!0}),Object(n.jsxs)("select",{onChange:this.handleCategory,value:c,className:"browser-default custom-select mb-2",children:[Object(n.jsx)("option",{children:"Choose Category"}),t.map((function(e,t){return Object(n.jsx)("option",{className:"text-dark",value:e.id,children:e.name},t)}))]}),Object(n.jsxs)("select",{onChange:this.handlePriority,value:o,className:"browser-default custom-select mb-2",children:[Object(n.jsx)("option",{children:"Todo priority"}),Object(n.jsx)("option",{className:"text-dark",value:"High",children:"High"}),Object(n.jsx)("option",{className:"text-dark",value:"Medium",children:"Medium"}),Object(n.jsx)("option",{className:"text-dark",value:"Low",children:"Low"})]}),Object(n.jsxs)("select",{onChange:this.handleCompletion,value:r,className:"browser-default custom-select mb-2",children:[Object(n.jsx)("option",{children:"Completion"}),Object(n.jsx)("option",{className:"text-dark",value:!0,children:"Completed"}),Object(n.jsx)("option",{className:"text-dark",value:!1,children:"Not Completed"})]}),Object(n.jsx)(T.a,{selected:this.state.due_date,onChange:function(t){return e.setDate(t)}}),Object(n.jsx)("br",{}),Object(n.jsx)(g.d,{className:"mt-3",type:"submit",color:"orange",block:!0,children:"Update"})]})})]})]})}}]),a}(s.Component);U.contextType=O;var B=U,E=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).checkUserId=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=localStorage.getItem("_userId"))&&(a=Object(M.a)(t),n.setState({user:a}),n.loadCategories(),n.loadTodos(),n.loadNotifications());case 2:case"end":return e.stop()}}),e)}))),n.loadTodos=Object(d.a)(l.a.mark((function e(){var t,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("_userId"),e.prev=1,e.next=4,C.a.get("http://localhost:8000/api/todos/",{headers:{Authorization:"JWT ".concat(t)}});case 4:a=e.sent,s=a.data,n.setState({todos:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),n.loadCategories=Object(d.a)(l.a.mark((function e(){var t,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("_userId"),e.prev=1,e.next=4,C.a.get("http://localhost:8000/api/categories/",{headers:{Authorization:"JWT ".concat(t)}});case 4:a=e.sent,s=a.data,n.setState({categories:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),n.setCategory=function(e){n.setState({category:e,searchByCategory:!0,searchByCompletion:!1})},n.setCompletion=function(e){console.log(e),n.setState({completed:e,searchByCategory:!1})},n.loadNotifications=Object(d.a)(l.a.mark((function e(){var t,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("_userId"),e.prev=1,e.next=4,C.a.get("http://localhost:8000/api/notifications/",{headers:{Authorization:"JWT ".concat(t)}});case 4:a=e.sent,s=a.data,n.setState({notifications:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),n.state={todos:[],categories:[],notifications:[],category:"",searchByCategory:!1,searchCompletion:!1},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkUserId();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.user,a=e.todos,c=e.categories,o=e.completed,r=e.category,i=e.searchByCategory,l=e.notifications,d=this.loadCategories,h=this.loadTodos,j=this.setCategory,u=this.setCompletion,b=a.filter((function(e){return i?-1!==e.category_name.toLowerCase().indexOf(r.toLowerCase()):"true"===o?e.completed:"false"===o?!e.completed:a}));return Object(n.jsx)(s.Fragment,{children:Object(n.jsxs)(O.Provider,{value:{user:t,todos:a,categories:c,loadCategories:d,loadTodos:h,filterTodos:b,setCategory:j,setCompletion:u,notifications:l},children:[Object(n.jsx)(v,{}),Object(n.jsxs)(f.d,{children:[Object(n.jsx)(f.b,{path:"/todo/edit/:id",component:B}),Object(n.jsx)(f.b,{path:"/todo/:id",component:z}),Object(n.jsx)(f.b,{path:"/login",component:S}),Object(n.jsx)(f.b,{path:"/logout",component:P}),Object(n.jsx)(f.b,{path:"/todos",component:W}),Object(n.jsx)(f.a,{to:"login"})]})]})})}}]),a}(s.Component);E.contextType=O;var H=E;var Y=function(){return Object(n.jsx)(s.Fragment,{children:Object(n.jsx)(H,{})})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,215)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),c(e),o(e)}))};r.a.render(Object(n.jsx)(x.a,{children:Object(n.jsx)(Y,{})}),document.getElementById("root")),q()}},[[209,1,2]]]);
//# sourceMappingURL=main.4c19ce3d.chunk.js.map